# 問い合わせメール自動振り分け＆返信ドラフト生成ボット

5名規模の少人数チームに最適な、n8nとGeminiを活用した問い合わせ自動処理ワークフローです。
会社の代表メール（`info@...` など）に届いたメールをAIが自動で読み取り、「営業・サポート・クレーム・スパム」等に分類。さらに、そのままコピペして使える「返信文のドラフト（下書き）」を作成し、チームのSlackチャンネルに即時通知します。

「このメール、誰がどう返す？」と悩む時間と、対応漏れによる機会損失をゼロにします。

## ✨ 主な機能

1. **新着メールの自動監視:** 指定したGmailアドレスの「未読メール」を定期的にチェックします。
2. **AIによるトリアージ（自動分類）:** Geminiが本文の文脈を理解し、内容を「分類」「要約」「送信者情報」として構造化します。
3. **返信ドラフトの生成:** 問い合わせに対する丁寧な返信文の下書きを自動生成します（スパムや一方的な営業メールの場合は「返信不要」と判断します）。
4. **チャット通知:** チーム全員が見ているSlackチャンネル（またはTeams等）に解析結果とドラフトを通知し、初動のスピードを圧倒的に高めます。

## 📦 含まれるファイル

* `workflow.json`: n8nにインポートして使用するワークフロー定義ファイルです。

## 🛠️ 事前準備（Prerequisites）

このワークフローを動かすには、以下のAPIキーおよび連携設定が必要です。

* **Google Workspace (Gmail):** n8nからの読み取り権限（OAuth2）
* **Google Gemini API Key:** AI解析用（推奨モデル: `gemini-2.5-flash`）
* **Slack (または各種チャットツール):** チャンネルへの通知権限を持つボット連携

## 🚀 導入手順（Setup）

1. **インポート:** n8nのキャンバス画面右上から `Import from File` を選び、本リポジトリの `workflow.json` を読み込みます。
2. **Gmailの認証と設定:** * `Gmail Trigger` ノードを開き、ご自身のGmailアカウントを連携させます。
   * `Filters` の `q` パラメータを、監視したい条件（例: `is:unread to:info@yourdomain.com`）に変更してください。
3. **Geminiの認証:**
   * `Gemini: Analyze & Draft` ノードを開き、Gemini APIのクレデンシャルを設定します。
4. **Slackの認証と設定:**
   * `Slack Notification` ノードにご自身のSlackアカウント（またはボット）を連携させます。
   * `Send Message To` を `Channel` に設定し、通知先のチャンネルURLまたはIDを指定してください。
   * *(※Slack APIの仕様上、指定したチャンネルにn8nのボットアプリを事前に `/invite` しておく必要があります)*
5. **有効化:**
   * テスト実行で正しくSlackに通知が飛ぶことを確認したら、ワークフロー画面右上のトグルスイッチを「Active」にして本稼働を開始します。

## 📝 仕組みの解説記事

このワークフローの詳しい構築背景や、AIに指示を出しているプロンプトの設計意図については、以下のZenn記事で詳しく解説しています。

* [Zenn記事のURLをここに記載]

## 🏢 作成者・お問い合わせ

DX推進や業務自動化に関するご相談、本ボットのカスタマイズ導入については、以下よりお問い合わせください。

* **[オルタナティブコンピュータ〜有限会社野田収一事務所](https://alternativecomputers.org/)**
