{
  "name": "Content Repurposer: Blog to Multi-SNS",
  "nodes": [
    {
      "parameters": {
        "content": "## ðŸ“¢ Content Repurposer\n\n**Turn 1 Article into 3 Posts.**\nInput a blog/Zenn URL, and **Gemini** will repurpose it for **X (Twitter)**, **LinkedIn**, and **Note**.\n\n**How it works**\n1. **Input:** Submit Article URL via **Form**.\n   - *Test Mode uses a sample tech article.*\n2. **Extract:** **HTML Node** scrapes the main content from the URL.\n3. **Repurpose:** **Gemini** rewrites the content into 3 distinct formats:\n   - **X:** Thread format (hook + points).\n   - **LinkedIn:** Professional insight.\n   - **Note:** Summary with bullet points.\n4. **Save:** Logs all drafts to **Google Sheets**.\n\n**Setup steps**\n1. **Credentials:** Connect Gemini, Sheets.\n2. **Config:** Open **\"Config\"** to set Sheet ID.\n3. **Test:** Set `TEST_MODE` to `true`.",
        "height": 380,
        "width": 500,
        "color": 3
      },
      "id": "3dabd5e5-15fd-41ce-8d16-0950c202bd79",
      "name": "Sticky Note - Main",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1152,
        32
      ]
    },
    {
      "parameters": {
        "content": "## âš™ï¸ Configuration\nSet Sheet ID.",
        "height": 140,
        "color": 6
      },
      "id": "59670725-4336-4008-aff7-90c876e382c7",
      "name": "Sticky Note - Config",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -528,
        32
      ]
    },
    {
      "parameters": {
        "content": "## ðŸ”— Article Input\nURL or Mock Data.",
        "height": 340,
        "width": 760,
        "color": 6
      },
      "id": "5a6d8192-d326-41dc-ad8f-5de345c1725f",
      "name": "Sticky Note - Input",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -256,
        32
      ]
    },
    {
      "parameters": {
        "content": "## ðŸ§  Content Studio\nScrape & Rewrite.",
        "height": 140,
        "width": 440,
        "color": 6
      },
      "id": "3eb9ac87-2344-4b0c-b483-088f80cc920c",
      "name": "Sticky Note - AI",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        576,
        32
      ]
    },
    {
      "parameters": {
        "content": "## ðŸ“¤ Output\nSave Drafts.",
        "height": 140,
        "width": 380,
        "color": 6
      },
      "id": "9d698460-c58b-4a34-bf29-59cb80d310c6",
      "name": "Sticky Note - Output",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1056,
        32
      ]
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "SHEET_ID",
              "value": "",
              "type": "string"
            },
            {
              "id": "id-3",
              "name": "TEST_MODE",
              "value": "true",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "id": "d33725be-d9f9-4078-8eaf-abf31eda6b73",
      "name": "Config",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -416,
        128
      ]
    },
    {
      "parameters": {
        "formTitle": "ðŸ“¢ Content Repurposer",
        "formDescription": "Enter Article URL to generate SNS drafts.",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Article URL",
              "placeholder": "https://zenn.dev/...",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "id": "84c50095-3267-4485-9af6-01c59e651f94",
      "name": "Form Trigger",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        -592,
        128
      ],
      "webhookId": "content-repurposer"
    },
    {
      "parameters": {},
      "id": "74e6fa82-51f5-4641-9012-5d777ede5ecf",
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -592,
        256
      ]
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "id": "cced99ad-cac7-42ce-8d2d-485a7e25e387",
      "name": "Test Mode?",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -208,
        96
      ]
    },
    {
      "parameters": {
        "jsCode": "// Simulate Article Content\nreturn [{\n  json: {\n    \"Article URL\": \"https://example.com/test-article\",\n    \"content\": \"# Why Automation Matters\\nIn 2026, automation is not just for efficiency; it's for survival. Small businesses can now leverage AI tools like n8n and Gemini to compete with giants. By automating routine tasks such as invoicing, social media, and customer support, you free up time for creative strategy. This article explores 3 key workflows...\"\n  }\n}];"
      },
      "id": "0cb8dc8e-c9d2-4bb5-a5f2-a4a106d47575",
      "name": "Mock Article",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        32,
        64
      ]
    },
    {
      "parameters": {
        "url": "={{ $('Form Trigger').first().json[\"Article URL\"] }}",
        "options": {}
      },
      "id": "8a6a8365-bd71-4580-9803-2e57ffaaef5f",
      "name": "Get Page HTML",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        32,
        224
      ]
    },
    {
      "parameters": {
        "extractionValues": {
          "values": [
            {
              "key": "content",
              "cssSelector": "body"
            }
          ]
        },
        "options": {}
      },
      "id": "d2b9ac2f-8b11-4258-a7e3-11ea1a92c5b7",
      "name": "Extract Text",
      "type": "n8n-nodes-base.htmlExtract",
      "typeVersion": 1,
      "position": [
        224,
        224
      ]
    },
    {
      "parameters": {
        "jsCode": "// Merge Input\nconst mode = $('Config').first().json.TEST_MODE;\nlet data = {};\n\nif (mode === 'true') {\n  data = $('Mock Article').first().json;\n} else {\n  data = {\n    \"Article URL\": $('Form Trigger').first().json[\"Article URL\"],\n    \"content\": $('Extract Text').first().json.content\n  };\n}\n// Truncate content if too long\nif (data.content.length > 8000) data.content = data.content.substring(0, 8000);\n\nreturn { json: data };"
      },
      "id": "fdb2e30f-0b71-4516-abb9-38f35b445986",
      "name": "Normalize Input",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        400,
        96
      ]
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-1.5-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-1.5-flash"
        },
        "messages": {
          "values": [
            {
              "content": "=Act as a Social Media Manager.\nRepurpose the following article content into 3 distinct formats for X (Twitter), LinkedIn, and Note.\n\n[Article Content]\n{{ $json.content }}\n\n[Instructions]\n1. **X (Twitter):** Create a thread hook (engaging question or statement) + 3 bullet points + hashtags.\n2. **LinkedIn:** Create a professional insight post focusing on business value.\n3. **Note:** Create a summary post with \"Key Takeaways\".\n4. Language: Japanese.\n\n[Output JSON ONLY]\n{\n  \"x_post\": \"...\",\n  \"linkedin_post\": \"...\",\n  \"note_post\": \"...\"\n}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        608,
        96
      ],
      "id": "27107819-cf88-48f6-9a39-3bd9d5211e35",
      "name": "Gemini: Repurpose",
      "credentials": {
        "googlePalmApi": {
          "id": "uNBp7Mo2n5MpE8Mb",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Parse JSON\nconst text = $input.first().json.content.parts[0].text;\nlet result = {};\ntry {\n  const cleanText = text.replace(/```json/g, '').replace(/```/g, '').trim();\n  result = JSON.parse(cleanText);\n} catch (e) {\n  result = { x_post: \"Error\", linkedin_post: \"Error\", note_post: text };\n}\nreturn { json: result };"
      },
      "id": "42ecc519-b2c5-4a0b-b564-96f121f9da2b",
      "name": "Parse JSON",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        880,
        96
      ]
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $('Config').first().json.SHEET_ID }}"
        },
        "sheetName": {
          "__rl": true,
          "mode": "name",
          "value": "ContentDrafts"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Date": "={{ $now.format('yyyy-MM-dd HH:mm') }}",
            "URL": "={{ $('Normalize Input').first().json[\"Article URL\"] }}",
            "X Post": "={{ $json.x_post }}",
            "LinkedIn Post": "={{ $json.linkedin_post }}",
            "Note Post": "={{ $json.note_post }}"
          }
        },
        "options": {}
      },
      "id": "494605ea-4719-4daf-9a13-6e149204a91b",
      "name": "Save to Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1168,
        96
      ],
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "kETRjtRKedfCcNUZ",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Form Trigger": {
      "main": [
        [
          {
            "node": "Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Manual Trigger": {
      "main": [
        [
          {
            "node": "Config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mock Article": {
      "main": [
        [
          {
            "node": "Normalize Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Page HTML": {
      "main": [
        [
          {
            "node": "Extract Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Text": {
      "main": [
        [
          {
            "node": "Normalize Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Normalize Input": {
      "main": [
        [
          {
            "node": "Gemini: Repurpose",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini: Repurpose": {
      "main": [
        [
          {
            "node": "Parse JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse JSON": {
      "main": [
        [
          {
            "node": "Save to Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Test Mode?": {
      "main": [
        [
          {
            "node": "Mock Article",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Page HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Config": {
      "main": [
        [
          {
            "node": "Test Mode?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "fa887f15-c6af-4664-9e4f-c4f8b9b2ed36",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "d6998d68d5ddde8bdb1a2d6a16f88f7d0cef5f647d1548b25f1adf37764062db"
  },
  "id": "AWveOxty4k54tDSU",
  "tags": []
}
